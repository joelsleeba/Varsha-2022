\section{Lecture 2 --- 12th August 2022 --- Properties of Measures and Definition of semialgebra}

\begin{proof}[Proof of Theorem \ref{thm:equiv-measure}] 
    Let $\mu : \calF \to [0,\infty]$ be a function.

    ($\implies$) Suppose that $\mu$ is a measure. We first show that $\mu$ is finitely additive. Let $A, B \in \calF$ and suppose that $A\cap B=\emptyset$. Let $A_1 =A $ and $A_2 =B$ and $A_n = \emptyset$ for all $n\ge 3$. Then $\mu (A\cup B) = \mu \left( \cup_{i\in\N} A_i \right) = \sum_{i\in\N} \mu (A_i) = \mu (A) + \mu (B)$ as $\mu (\emptyset ) =0$. 

    We now prove that $\mu$ is continuous from below. Let $\left\{ A_n \right\}$ be a nondecreasing sequence of elements from $\calF$. $\ie \ A_n \subset A_{n+1}$ for all $n \in \N$. Define $B_1=A_1$ and $B_n = A_n \setminus A_{n-1}$ for each $n\ge 2$. Clearly, $\bigcup_n B_n = \bigcup_n A_n$ and $B_n \bigcap B_m = \emptyset$ for all $m\ne n$.

    \begin{align*}
        \mu \left( \bigcup_{n \in \N} A_n \right) &= \mu \left( \bigcup_{n \in \N} B_n \right) &\\
        &= \sum_{n\in \N} \mu \left( B_n \right) & \text{(by the property of measure on } B_n ) &\\
        &= \lim_{n \to \infty} \sum_{m=1}^{n} \mu \left( B_m \right) &\\
        &= \lim_{n \to \infty} \left[\mu (A_1) +\sum_{m=2}^{n} \left(\mu \left( A_m \right) - \mu \left( A_{m-1} \right) \right) \right] & \text{(by the definiton of } B_m ) \\
        &= \lim_{n \to \infty} \mu (A_n) & \text{(telescopic sum)}
    \end{align*}

    ($\impliedby$) Now suppose that $\mu$ is finitely additive and continuous from below.
    We intend to prove that $\mu$ is a measure. It is clear that from finite additivity that $\mu \left( \emptyset \right) = 0$. If not $\mu \left( \emptyset \right) = \mu \left( \emptyset \right) + \mu\left( \emptyset \right)$, which will give a contradiction for any nonzero value for $\mu \left( \emptyset \right)$. Let $\left\{ A_n \right\}$ be a sequence of elments from $\calF$. Define $B_n = \bigcup_{i=1}^{n} A_i$ for all $n\in \N$. Clearly, $B_n \nearrow \bigcup_{i \in \N} A_i$. Clearly, $\left\{ B_n \right\}$ is an nondecreasing sequence of elements from $\calF$. Then
    \begin{align*}
        \mu \left( \bigcup_{i \in \N} A_i \right) &= \mu \left( \bigcup_{i \in \N} B_n \right) &\\
        &= \lim_{n \to \infty} \mu\left( B_n \right) & \text{(using continuity from below)} \\
        &= \lim_{n \to \infty} \mu \left( \bigcup_{j=1}^{n} A_j \right) & \\
        &= \lim_{n \to \infty} \sum_{j=1}^{n} \mu \left( A_j \right) & \text{(finite additivity)} \\
        &= \sum_{j=1}^{\infty} \mu (A_j) 
    \end{align*}
    Hence $\mu$ is a measure on $\scrF$
\end{proof}



\subsection{Properties of Measures}

\begin{theorem}
    \label{thm:prop-measures}
    Let $\mu$ be a measure on a $\sigma$-algebra $\calF$. Then
    \begin{enumerate}[label=(\arabic*)]
	    \item $\mu$ is monotone.
	    \item the inclusion-exclusion formula holds.
	    \item $\mu$ is finitely subadditive. $\ie$ $\mu \left( A_1 \cup A_2 \cup \ldots \cup A_n \right) \le \sum_{i=1}^{k} \mu (A_k)$ for $A_1, A_2, \ldots , A_k \in \calF	$.
	    \item $\mu$ is continuous from above, that is, if $\left( A_n \right) \subset \calF$ such that $A_n \supset A_{n+1}$ for all $n\in\N$ and $\mu (A_{n_0}) < +\infty$ for some $n_0$ then $\lim_{n \to \infty} \mu(A_n) = \mu \left( \bigcap_n A_n \right)$.
	    \item $\mu$ is countably subadditive, that is, if $\left\{ A_n \right\}_{n\in \N}\subset \calF$ then $\mu \left(\cup_n A_n \right) \le \sum_{i=1}^{\infty} \mu \left( A_n \right)$
    \end{enumerate}
\end{theorem}

\begin{proof}
    \begin{enumerate}[label=(\arabic*)]
        \item We show that $\mu$ is monotone. Let $A \subset B$ be elements of $\calF$. Then $B=A\cup B\setminus A$. Hence $\mu (B) = \mu (A) + \mu (B\setminus A)$. Since $\mu (B\setminus A ) \ge 0$, we have that $\mu (B) \ge \mu (A)$. 

        \item Now, we prove that the inclusion exclusion formula holds for $\mu$. Let $A, B\in \calF$. If both $\mu(A) = +\infty$ and $\mu (B) = + \infty$ then there is nothing to prove. So, assume without loss of generality that $\mu (A) < \infty$. Then $\mu (A \cap B) < \infty$.  Then
        \begin{align*}
            \mu (A \cup B) + \mu (A\cap B) &= \mu (A) + \mu (B \setminus A) + \mu (B\cap A)  \\
            &= \mu (A) + (\mu (B \setminus A) + \mu (B\cap A))  \\
            &= \mu (A) + \mu (B)
        \end{align*}

        \item Now, finite subadditivity follows immediately from inclusion-exclusion formula and induction.

        \item We now prove that $\mu$ is continuous from above. Let $\left\{ A_n \right\}$ be a sequence of decreasing sequence sets with $\mu (A_1) < \infty$. Then we have that $\mu (A_n) \le \mu (A_1) < \infty$. Define $B_n = A_1 \setminus A_n$ and $B=A_1 \setminus \bigcap_n A_n$. It is easy to see that $B_n \nearrow B$ (draw pictures!). %From Theorem \ref{thm:equiv-measure} (continuity from below), we have that $\lim \mu (B_n ) = \mu (B)$.   
        Now by definition of $B_n$, $\mu (B_n ) = \mu (A_1) - \mu (A_n )$. \\
        Also, 
        \begin{align*}
            \mu (B)    &= \lim_{n \to \infty} \mu (B_n) & \text{(By continuity from below, See } \ref{thm:equiv-measure}) \\ 
                       &= \mu (A_1) - \lim_{n \to \infty} \mu (A_n) & \text{(by definiton of } B_n) \\
        \end{align*}

        Again by definiton of $B$ $\mu (B) = \mu (A_1) - \mu (\bigcap_n A_n )$. Equating this with the above equation we see that $\lim_{n \to \infty} \mu (A_n ) = \mu \left( \bigcap_n A_n \right)$. 

        \item We now prove that $\mu$ is countably subadditive. Let $\left\{ A_n \right\}$ be a sequence of elements from $\calF$. Define $B_k = \bigcup_{n=1}^{k} A_n$. Clearly $B_k \nearrow \bigcup_{n} A_n$.
        Then, 
        \begin{align*}
            \mu \left( \bigcup_n A_n \right) &= \mu \left( \bigcup_n B_n \right) & \\
                                          &= \lim_{k \to \infty} \mu (B_k) & \text{(by continuity from below, See } \ref{thm:equiv-measure}) \\ 
                                          &\le \lim_{k \to \infty} \left( \mu(A_1) + \mu(A_2) + \ldots + \mu(A_k) \right) & \text{(by finite subadditivity)} \\
                                          &= \sum_{k=1}^{\infty} \mu (A_k)
        \end{align*}
        %By continuity from below, we have that $\mu \left( \cup_n A_n \right) = \lim_k \mu (B_k) \le \lim_k \left( \mu (A_1) + \mu (A_2) + \ldots + \mu (A_k) \right)= \sum_{k=1}^{\infty} \mu (A_k)$. Note that the inequality is due to finite subadditivity.
    \end{enumerate}
\end{proof}

\begin{definition}
    \label{def:semialgebra}
    A collection $\calC$ of subsets of $\Omega$ is called a \emph{semialgebra} if 
    \begin{itemize}
        \item $\calC$ is closed under finite intersections
        \item if $A\in \calC$ then there exists some $B_1, B_2 , \ldots , B_n \in \calC$, pairwise disjoint, such that $A^c = \bigcup_{i=1}^{n} B_i$.
    \end{itemize}
\end{definition}

\begin{exercise}
    Find a general formulation of the inclusion-exclusion principle for measures.
\end{exercise}
