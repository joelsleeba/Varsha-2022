\section{Lecture 3 --- From semialgebra to algebra, measurable sets\ldots }

\begin{remark}
    If $\calC$ is a nonempty semialgebra on $\Omega$ then $\emptyset \in \calC$.

    This remark can be verified as follows: Since $\calC$ is nonempty, let $A\in\calC$. Since $\calC$ is a semialgebra, there are elements $B_i \in \calC (1\le i \le n)$ such that $A^c = \cup_{i=1}^{n} B_i$ and $B_i \cap B_j = \emptyset$ for $i\ne j$. If $n=1$, then $A^c \in \calC$ and hence $A\cap A^c = \emptyset \in \calC$. Now if $n\ge 2$, we have that $B_1 \cap B_2 = \emptyset \in \calC$.
    \label{rem:empty-in-semialgebra}
\end{remark}

\begin{remark}
    Let $\left\{ \calA _i \right\}_{i \in I}$ be a collection of algebras on $\Omega$. Then it can be easily checked that $\bigcap_{i\in I} \calA _i$ is an algebra on $\Omega$. So if $\calC$ is a collection of subsets of $\Omega$ then we denote $\calA \left( \calC \right)$ to be the smallest algebra generated by $\calC$, which is in fact, the intersection of all algebras that contain $\calC$.
    \label{rem:smallest-algebra}
\end{remark}

\begin{definition}[Measure on a semi-algebra]
    A nonnegative set function $\mu$ on a semialgebra $\calC$ of subsets of $\Omega$ is called a \textit{measure on $\calC$} if
    \begin{enumerate}[label= (\roman*)]
	\item $\mu (\emptyset ) = 0$
	\item $\mu$ is countably additive, that is, if $\left( A_n \right) \subset \calC$, $A_i \cap A_j = \emptyset$ and $\bigcap_{n\in \N} A_n \in \calC$ then 
	    \begin{equation*}
		\mu \left( \bigcup_{n\in \N} A_n \right) = \sum_{n\in \N} \mu \left( A_n \right)
		    \end{equation*}

    \end{enumerate}
    \label{def:measure-on-semialgebra}
\end{definition}

\subsection{Extension of measures from semialgebras to algebras}

Let $\calC$ be a semialgebra on $\Omega$. Define $\scrA$ be the collection of all finite unions of elements of $\calC$. Then in Question 6 from Assigment 1, we showed that $\scrA = \calA (\calC)$, that is, $\scrA$ is the smallest algebra containing $\calC$.
The following lemma has much more to say though:

\begin{lemma}
Let $\calC$ be a semialgebra of $\Omega$. Let $$\calF (\calC) := \left\{ A \subset X: A= \cup_{i=1}^{n} B_i \text{ for some } B_i \in \calC, B_i \cap B_j = \emptyset \text{ for } i\ne j\right\}$$
Then $\calF \left( \calC \right) = \calA \left( \calC \right)$.
    \label{lemma:disjoint-algebra-generated}
\end{lemma}
\begin{proof}
    Clearly, $\calF \left( \calC \right) \subset \calA \left( \calC \right)$ (see the previous paragraph). Since $\calA \left( \calC \right)$ is the smallest algebra generated by $\calC$, we will be done if we show that $\calF \left( \calC \right)$ is an algebra containing $\calC$. 

    Clearly, $\emptyset \in \calF \left( \calC \right)$ as $\emptyset \in \calC$. The fact that $\calF \left( \calC \right)$ is closed under finite unions is pretty evident. To show that $\calF \left( \calC \right)$ is closed under complement, let $A\in \calF \left( \calC \right)$. Then there are elements $\left\{ B_i \right\}_{1\le i \le n} \subset \calC$, pairwise disjoint, such that $A=\cup_{i=1}^{n} B_i$. Then since $B_i \in \calC$, there exists $k_i \in \N$ and $C_{i1} , C_{i2} , \ldots , C_{i,k_i}$ such that $B_i ^c = \cup_{j=1}^{k_i} C_{i,j}$. Then $A^c=\cap_{i=1}^{n} \cup_{j=1}^{k_i} C_{i,j}$. Interchanging the union and intersection, the result quickly follows.
\end{proof}

\begin{theorem}
    Suppose $\mu$ is a measure on a semialgebra $\calC$ of subsets of $\Omega$. Let $\calA$ be the algebra generated by $\calC$. If $A\in \calA$ has a representation $A=\cup_{i=1}^{n} B_i$, $B_i \cap B_j = \emptyset$ for $i\ne j$ then we define a function $\overline \mu $ on a subset of $\calA$ where the elements $A\in \calA$ have aforementioned representation given by $\overline{\mu} (A) = \sum_{i=1}^{n} \mu (B_i)$. Then
    \begin{enumerate}
	\item $\overline \mu$ is well defined,
	\item $\overline \mu$ is finitely additive and
	\item $\overline \mu$ is countably additive.
    \end{enumerate}
    \label{thm:extension-semialgebra-algebra}
\end{theorem}
\begin{proof}
    We first show that $\overline \mu$ is indeed well-defined. Let $A\in \calA$ and suppose that $A= \cup_{i=1}^{m} B_i$ and $A=\cup_{j=1}^{n} C_j$ where  $\left\{ B_i \right\} \subset \calC$ are pairwise disjoint and $\left\{ C_j \right\} \subset \calC$ are pairwise disjoint. Then note that for $i \in \{1\le l \le n\}$, we have that $B_i = B_i \cap A = B_i \cap \left(\cup_{j=1}^{n} C_j\right) = \cup_{j=1}^{n} (B_i \cap C_j)$. Note that previous union is a pairwise disjoint union. Hence,
    \begin{align*}
	\sum_{i=1}^{m} \mu (B_i ) &= \sum_{i=1}^{m} \sum_{j=1}^{n} \mu(B_i \cap C_j) \\
	&= \sum_{j=1}^{n} \sum_{i=1}^{m} \mu(B_i \cap C_j) \\
	&= \sum_{j=1}^{n} \mu (C_j)
    \end{align*}

    This shows that $\overline \mu$ is well defined.

    We show that $\overline \mu $ is countably additive. Let $\left\{ A_n \right\}$ be the collection of elements of $\calA$ which can be written as a union of pairwise disjoint elements of $\calC$, $A_n \cap A_m = \emptyset$ for $n\ne m$ and $\cup_{n\in \N} A_n \in \calA$.

    Then for each $n$, there is $k_n \in \N$ and pairwise disjoint elements $B_{n1} , B_{n2} , \ldots , B_{n,k_n} \in \calC$ such that $A_n = \cup_{i=1}^{k_n} B_{n,i}$.

    We also have by Lemma \ref{thm:extension-semialgebra-algebra} that there are some $B_1 , \ldots , B_k \in\calC$, pairwise disjoint, such that $\cup_{n\in \N} A_n = \cup_{i=1}^{k} B_i$. 

    Now, for any $i$, we have that 
    \begin{align*}
	B_i &= B_i \cap \left( \bigcup_{n\in\N} A_n \right) \\
	&= \bigcup_{n\in \N} (B_i \cap A_n) \\
	&= \bigcup_{n\in \N} \left( B_i \cap \bigcup_{j=1}^{k_n} B_{n,j} \right) \\
	&= \bigcup_{n\in \N} \bigcup_{j=1}^{k_n} (B_i \cap B_{n,j}) \\
	&= \bigcup_{\substack{n\in \N \\ j\in \left\{ 1, \ldots k_n \right\}}} (B_i \cap B_{n,j}) 
    \end{align*}

    Note that the previous union is a pairwise disjoint union. Thus by definition of measure on a semialgebra, we have that for any $i$
    \begin{equation*}
	\mu (B_i) =\sum_{\substack{n\in \N \\ j\in \left\{ 1, \ldots k_n \right\}}} \mu (B_i \cap B_{n,j}) 
    \end{equation*}
    Hence, 
    \begin{align*}
	\overline \mu (A) &= \sum_{i=1}^{k} \mu (B_i ) \\
	&= \sum_{i=1}^{k} \sum_{\substack{n\in \N \\ j\in \left\{ 1, \ldots k_n \right\}}} \mu (B_i \cap B_{n,j}) \\
&= \sum_{\substack{n\in \N \\ j\in \left\{ 1, \ldots k_n \right\}}}\sum_{i=1}^{k} \ \mu (B_i \cap B_{n,j}) \\
&= \sum_{\substack{n\in \N \\ j\in \left\{ 1, \ldots k_n \right\}}} \mu \left( \bigcup_{i=1}^k \left( B_i \cap B_{n,j} \right) \right) \\
&= \sum_{\substack{n\in \N \\ j\in \left\{ 1, \ldots k_n \right\}}} \mu (B_{n,j}) \\
&= \sum_{n\in \N} \sum_{j=1}^{k_n} \mu (B_{n,j}) \\
&= \sum_{n\in \N} \overline \mu \left( A_n \right)
    \end{align*}
    
This completes the proof of countable additivity. The proof of finite additivity follows from countable subadditivity.
\end{proof}

\subsection{Outer Measures}

\begin{definition}
    Given a measure $\mu$ on a semialgebra $\calC$, the \textit{outer measure induced by $\mu$} is the set function $\mu ^{*}$ defined on $\calP \left( \Omega \right)$ as
    \begin{equation*}
	\mu ^{*} \left( A \right) := \inf \left\{ \sum_{n=1}^{\infty} \mu (A_n) : \left\{ A_n \right\} _{n\ge 1} \subset \calC , A \subset \cup_{n \ge 1} A_n \right\}
	\label{eqn:outer-measure}
    \end{equation*}
    \label{def:outer-measure}
\end{definition}

We'd like to remark that $\mu ^{*}$ is not an overestimate, that is, $\mu ^{*} = \mu$ on $\calC$ and $\mu ^{*} = \overline \mu$ on $\calA$.

To verify this remark, let $C \in \calC$. We need to show that $\mu ^{*} (C) = \mu (C)$. Clearly by definition of $\mu ^{*}$, we have that $\mu ^{*} \left( C \right) \le \mu \left( C \right)$. (Fill the details!)

\begin{definition}
    A set $A$ is said to be \textit{$\mu^{*}$-measurable} if 
    \begin{equation*}
	\mu ^{*} \left( E \right) = \mu ^{*} (A\cap E ) + \mu ^{*} (A^c \cap E) \text{ for all } E \subset \Omega 
    \end{equation*}
    The set of all $\mu ^{*}$-measurable sets is denoted by $\calM _{\mu ^{*}}$.
    \label{def:measurable-set}
\end{definition}


